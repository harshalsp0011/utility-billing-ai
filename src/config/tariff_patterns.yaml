# ------------------------------------------
# Tariff Pattern Configuration (Dynamic Regex)
# ------------------------------------------

headings:
  # Main service-level divisions
  service_class:
    - "(?i)SERVICE CLASSIFICATION NO\\.?\\s*\\d+[A-Z]?"
    - "(?i)SERVICE CLASSIFICATION\\s+[-A-Z0-9]+"
    - "(?i)SERVICE CATEGORY\\s+[-A-Z0-9]+"

  # Rate or pricing sections within each service classification
  rate_section:
    - "(?i)^RATES?:"
    - "(?i)^DELIVERY RATES?"
    - "(?i)^SUPPLY RATES?"
    - "(?i)RATE SCHEDULE"
    - "(?i)RATE PER"

  # Rule / policy sections (e.g., “Rule 32 – Adjustment”)
  rule_section:
    - "(?i)^RULE\\s+\\d+"
    - "(?i)^RULE\\s+NO\\."
    - "(?i)^TERM OF SERVICE"
    - "(?i)^SPECIAL PROVISIONS?"

  # Other sections we care about
  adjustment_section:
    - "(?i)ADJUSTMENTS?"
    - "(?i)SURCHARGES?"
    - "(?i)RIDERS?"

  condition_section:
    - "(?i)AVAILABLE TO"
    - "(?i)APPLICABLE IF"
    - "(?i)SUBJECT TO"
    - "(?i)WHEN APPLICABLE"
    - "(?i)CUSTOMERS WHO"

keywords:
  # Used to detect rate components dynamically
  on_peak:
    - "On[- ]?Peak"
    - "Peak Hours"
    - "On[- ]?Peak Hours"
  off_peak:
    - "Off[- ]?Peak"
    - "Off[- ]?Peak Hours"
  super_peak:
    - "Super[- ]?Peak"
  demand:
    - "Demand"
    - "kW"
    - "Billing Demand"
  energy:
    - "Energy"
    - "kWh"
    - "Usage Charge"
  distribution:
    - "Distribution"
    - "Delivery"
  voltage:
    - "Voltage"
    - "kV"
  customer_charge:
    - "Customer Charge"
    - "Basic Service Charge"
  period:
    - "Summer"
    - "Winter"
    - "Seasonal"

metadata:
  # Fields we may extract and normalize
  voltage_units: ["kV", "V"]
  power_units: ["kW", "MW"]
  energy_units: ["kWh", "MWh"]

fuzzy_thresholds:
  # Fuzzy match confidence thresholds (0-100)
  header_match: 75
  keyword_match: 70
